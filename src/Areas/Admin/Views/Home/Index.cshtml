@model string
@*@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers*@
@{
    ViewData["Title"] = "Admin - Home";
}

@section Styles {
    <link rel="stylesheet" href="~/css/lib/codemirror.css" />

    <style>
        .CodeMirror {
            border: 1px solid #334;
            width: 100%;
            height: 700px;
        }
    </style>
}

<h1>Admin Home</h1>

@if (!string.IsNullOrWhiteSpace(TempData["Error"] as string))
{
    <div class="alert alert-danger" role="alert">
        @TempData["Error"]
    </div>
}

@if (!string.IsNullOrWhiteSpace(TempData["Success"] as string))
{
    <div class="alert alert-success" role="alert">
        @TempData["Success"]
    </div>
}

<div class="row">
    <div class="col-lg-12">
        <form asp-area="Admin" asp-controller="Home" asp-action="UpdateDialPlan" method="post">
            <div class="form-group">
                <input type="submit" value="Save" class="btn btn-primary" />
            </div>
            <div class="form-group">
                <textarea id="dialPlanScript" name="dialPlanScript">
@Model
                </textarea>
            </div>
            <div class="form-group">
                <input type="submit" value="Save" class="btn btn-primary" />
            </div>
        </form>
    </div>
</div>

@section Scripts {
    <script src="~/js/lib/codemirror.js"></script>
    <script src="~/js/mode/clike/clike.js"></script>

    <script>
        var editor = CodeMirror.fromTextArea(document.getElementById("dialPlanScript"), {
            lineNumbers: true,
            matchBrackets: true,
            mode: "text/x-csharp"
        });
    </script>
}

